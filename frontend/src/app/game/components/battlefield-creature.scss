.bf-creature {
  position: relative;
  display: grid;
  place-items: center;
  user-select: none;
  cursor: default;
  transition: all 200ms ease-out;
  border-radius: 10px;
  overflow: hidden;

  .bf-card-face {
    display: block;
  }

  .bf-card-fallback {
    width: 120px;
    height: 112px;
    padding: 6px;
    box-sizing: border-box;
    border-radius: 10px;
    border: 1px solid var(--sf-border);
    background: linear-gradient(160deg, rgba(24, 32, 36, 0.96), rgba(36, 46, 52, 0.88));
    color: var(--sf-text);
    display: grid;
    place-items: center;
    font-size: 10px;
    font-weight: 700;
    text-align: center;
  }

  // Attack action tooltip
  .attack-action-tip {
    position: absolute;
    top: 4px;
    left: 50%;
    transform: translateX(-50%) translateY(-2px);
    white-space: nowrap;
    background: rgba(12, 8, 24, 0.94);
    color: #72b894;
    font-size: 9px;
    font-weight: 700;
    letter-spacing: 0.4px;
    text-transform: uppercase;
    padding: 4px 8px;
    border-radius: 5px;
    border: 1px solid rgba(114, 184, 148, 0.5);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.55);
    opacity: 0;
    transition: opacity 150ms ease, transform 150ms ease;
    z-index: 10;
    pointer-events: none;

    &::after {
      content: '';
      position: absolute;
      top: calc(100% - 1px);
      left: 50%;
      transform: translateX(-50%);
      border: 5px solid transparent;
      border-top-color: rgba(114, 184, 148, 0.5);
    }
  }

  &.can-attack.player:hover .attack-action-tip {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }

  &.selectable {
    cursor: pointer;
    &:hover {
      transform: scale(1.03);
    }
  }

  &.selected {
    box-shadow:
      0 0 24px rgba(217, 163, 90, 0.7),
      inset 0 0 16px rgba(217, 163, 90, 0.2);
    transform: scale(1.06);
    z-index: 10;
  }

  &.highlighted {
    animation: targetGlow 1s ease-in-out infinite;
    cursor: crosshair;
    
    &:hover {
      box-shadow: 0 0 20px rgba(217, 163, 90, 0.5);
    }
  }

  &.can-attack.player {
    box-shadow: 0 0 12px rgba(114, 184, 148, 0.3);
    cursor: pointer;
    
    &:hover {
      box-shadow: 0 0 20px rgba(114, 184, 148, 0.5);
      transform: scale(1.03);
    }
  }

  &.exhausted {
    opacity: 0.7;
  }

  &.has-guard {
    box-shadow: inset 0 0 8px rgba(91, 141, 217, 0.1);
  }

  &.has-ward {
    &::after {
      content: '';
      position: absolute;
      inset: 2px;
      border-radius: 9px;
      border: 2px dashed rgba(217, 163, 90, 0.4);
      pointer-events: none;
    }
  }

  &.frozen {
    filter: saturate(0.95);
  }

  &.damaged {
    filter: saturate(0.95);
  }

  &.attack-source.player.attack-source-even {
    animation: creatureLungeUpEven 520ms ease-out;
  }

  &.attack-source.player.attack-source-odd {
    animation: creatureLungeUpOdd 520ms ease-out;
  }

  &.attack-source.opponent.attack-source-even {
    animation: creatureLungeDownEven 520ms ease-out;
  }

  &.attack-source.opponent.attack-source-odd {
    animation: creatureLungeDownOdd 520ms ease-out;
  }

  &.attack-targeted.attack-targeted-even {
    animation: creatureTargetShakeEven 440ms ease-out;
  }

  &.attack-targeted.attack-targeted-odd {
    animation: creatureTargetShakeOdd 440ms ease-out;
  }

  &.hit-damage.hit-even {
    animation: creatureHitDamageEven 840ms ease-out;
  }

  &.hit-damage.hit-odd {
    animation: creatureHitDamageOdd 840ms ease-out;
  }

  &.hit-heal.hit-even {
    animation: creatureHitHealEven 1040ms ease-out;
  }

  &.hit-heal.hit-odd {
    animation: creatureHitHealOdd 1040ms ease-out;
  }
}

.spell-impact {
  position: absolute;
  inset: 2px;
  border-radius: 9px;
  pointer-events: none;
  z-index: 11;
  opacity: 0;

  &.benefit {
    animation-name: creatureSpellBenefit;
    animation-timing-function: ease-out;
    animation-fill-mode: both;
  }

  &.harm {
    animation-name: creatureSpellHarm;
    animation-timing-function: ease-out;
    animation-fill-mode: both;
  }

  &.benefit.spell-even {
    animation-duration: 1560ms;
  }

  &.benefit.spell-odd {
    animation-duration: 1559ms;
  }

  &.harm.spell-even {
    animation-duration: 1560ms;
  }

  &.harm.spell-odd {
    animation-duration: 1559ms;
  }
}

.combat-float {
  position: absolute;
  top: 6px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 12;
  font-weight: 900;
  font-size: 16px;
  line-height: 1;
  text-shadow: 0 2px 6px rgba(0, 0, 0, 0.65);
  pointer-events: none;

  &.damage {
    color: var(--sf-danger);
  }

  &.heal {
    color: var(--sf-success);
  }

  &.float-even {
    animation: creatureFloatEven 1800ms ease-out;
  }

  &.float-odd {
    animation: creatureFloatOdd 1800ms ease-out;
  }
}

.attack-ready-badge {
  position: absolute;
  top: 4px;
  right: 4px;
  font-size: 18px;
  animation: attackPulse 1.5s ease-in-out infinite;
  filter: drop-shadow(0 0 4px rgba(114, 184, 148, 0.6));
  z-index: 1;
  line-height: 1;
  pointer-events: none;
}

@keyframes attackPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.2); }
}

@keyframes targetGlow {
  0%, 100% { 
    box-shadow: 0 0 16px rgba(217, 163, 90, 0.3);
  }
  50% { 
    box-shadow: 0 0 24px rgba(217, 163, 90, 0.6);
  }
}

@keyframes creatureLungeUpEven {
  0% { transform: translateY(0) scale(1); }
  45% { transform: translateY(-10px) scale(1.05); }
  100% { transform: translateY(0) scale(1); }
}

@keyframes creatureSpellBenefit {
  0% {
    opacity: 0;
    box-shadow: none;
    filter: none;
    transform: scale(0.99);
  }
  25% {
    opacity: 0.9;
    box-shadow: 0 0 0 2px var(--sf-success), 0 0 22px var(--sf-success);
    filter: drop-shadow(0 0 18px var(--sf-success));
    transform: scale(1.03);
  }
  45% {
    opacity: 0.88;
    box-shadow: 0 0 0 2px var(--sf-success), 0 0 22px var(--sf-success);
    filter: drop-shadow(0 0 18px var(--sf-success));
    transform: scale(1.03);
  }
  100% {
    opacity: 0;
    box-shadow: none;
    filter: none;
    transform: scale(1);
  }
}

@keyframes creatureSpellHarm {
  0% {
    opacity: 0;
    box-shadow: none;
    filter: none;
    transform: scale(0.99);
  }
  25% {
    opacity: 0.9;
    box-shadow: 0 0 0 2px var(--sf-danger), 0 0 24px var(--sf-danger);
    filter: drop-shadow(0 0 18px var(--sf-danger));
    transform: scale(1.03);
  }
  45% {
    opacity: 0.88;
    box-shadow: 0 0 0 2px var(--sf-danger), 0 0 24px var(--sf-danger);
    filter: drop-shadow(0 0 18px var(--sf-danger));
    transform: scale(1.03);
  }
  100% {
    opacity: 0;
    box-shadow: none;
    filter: none;
    transform: scale(1);
  }
}

@keyframes creatureLungeUpOdd {
  0% { transform: translateY(0) scale(1); }
  45% { transform: translateY(-10px) scale(1.05); }
  100% { transform: translateY(0) scale(1); }
}

@keyframes creatureLungeDownEven {
  0% { transform: translateY(0) scale(1); }
  45% { transform: translateY(10px) scale(1.05); }
  100% { transform: translateY(0) scale(1); }
}

@keyframes creatureLungeDownOdd {
  0% { transform: translateY(0) scale(1); }
  45% { transform: translateY(10px) scale(1.05); }
  100% { transform: translateY(0) scale(1); }
}

@keyframes creatureTargetShakeEven {
  0% { transform: translateX(0); }
  25% { transform: translateX(-3px); }
  55% { transform: translateX(3px); }
  100% { transform: translateX(0); }
}

@keyframes creatureTargetShakeOdd {
  0% { transform: translateX(0); }
  25% { transform: translateX(3px); }
  55% { transform: translateX(-3px); }
  100% { transform: translateX(0); }
}

@keyframes creatureHitDamageEven {
  0% { filter: brightness(1) saturate(1); }
  18% { filter: brightness(2.1) saturate(0.6); }
  55% { filter: brightness(0.75) saturate(1.4); }
  100% { filter: brightness(1) saturate(1); }
}

@keyframes creatureHitDamageOdd {
  0% { filter: brightness(1) saturate(1); }
  18% { filter: brightness(2.1) saturate(0.6); }
  55% { filter: brightness(0.75) saturate(1.4); }
  100% { filter: brightness(1) saturate(1); }
}

@keyframes creatureHitHealEven {
  0% { box-shadow: 0 0 0 rgba(114, 184, 148, 0); }
  35% { box-shadow: 0 0 18px rgba(114, 184, 148, 0.55); }
  100% { box-shadow: 0 0 0 rgba(114, 184, 148, 0); }
}

@keyframes creatureHitHealOdd {
  0% { box-shadow: 0 0 0 rgba(114, 184, 148, 0); }
  35% { box-shadow: 0 0 18px rgba(114, 184, 148, 0.55); }
  100% { box-shadow: 0 0 0 rgba(114, 184, 148, 0); }
}

@keyframes creatureFloatEven {
  0% { opacity: 0; transform: translateX(-50%) translateY(8px) scale(0.8); }
  20% { opacity: 1; transform: translateX(-50%) translateY(0) scale(1); }
  70% { opacity: 1; transform: translateX(-50%) translateY(-10px) scale(1); }
  100% { opacity: 0; transform: translateX(-50%) translateY(-18px) scale(0.95); }
}

@keyframes creatureFloatOdd {
  0% { opacity: 0; transform: translateX(-50%) translateY(8px) scale(0.8); }
  20% { opacity: 1; transform: translateX(-50%) translateY(0) scale(1); }
  70% { opacity: 1; transform: translateX(-50%) translateY(-10px) scale(1); }
  100% { opacity: 0; transform: translateX(-50%) translateY(-18px) scale(0.95); }
}

<div
  class="hero-portrait"
  [class.player]="side() === 'player'"
  [class.opponent]="side() === 'opponent'"
  [class.highlighted]="highlighted()"
  [class.disabled]="disabled()"
  [class.attention-even]="isAttentionEven()"
  [class.attention-odd]="isAttentionOdd()"
  [class.attack-targeted]="isAttackTargeted()"
  [class.attack-targeted-even]="isAttackTargetedEven()"
  [class.attack-targeted-odd]="isAttackTargetedOdd()"
  [class.damaged]="isDamaged()"
  [class.critical]="isCritical()"
  [class.hit-damage]="hitFx()?.kind === 'damage'"
  [class.hit-heal]="hitFx()?.kind === 'heal'"
  [class.hit-even]="hitEven()"
  [class.hit-odd]="hitOdd()"
  (click)="onClick()"
  role="button"
  [attr.tabindex]="disabled() ? -1 : 0"
  [attr.aria-disabled]="disabled()"
  [attr.aria-label]="(side() === 'player' ? 'Your' : 'Enemy') + ' Hero: ' + health() + ' HP'"
>
  @if (spellFx()) {
    <div
      class="spell-impact"
      [class.benefit]="spellFx()!.kind === 'benefit'"
      [class.harm]="spellFx()!.kind === 'harm'"
      [class.spell-even]="spellEven()"
      [class.spell-odd]="spellOdd()"
      aria-hidden="true"
    ></div>
  }

  @if (floatFx()) {
    <div
      class="combat-float"
      [class.damage]="floatFx()!.kind === 'damage'"
      [class.heal]="floatFx()!.kind === 'heal'"
      [class.float-even]="floatEven()"
      [class.float-odd]="floatOdd()"
      aria-hidden="true"
    >
      {{ floatFx()!.kind === 'damage' ? '-' : '+' }}{{ floatFx()!.value }}
    </div>
  }

  <!-- Card header: type label -->
  <div class="hero-card-type">
    @if (side() === 'player') { YOUR HERO } @else { ENEMY HERO }
  </div>

  <!-- Hero art / icon -->
  <div class="hero-art">
    <div class="hero-art-inner">
      <div class="hero-icon">
        @if (side() === 'player') { ‚öîÔ∏è } @else { üëπ }
      </div>
    </div>
  </div>

  <!-- Nameplate -->
  <div class="hero-nameplate">
    <span class="hero-name">
      @if (side() === 'player') { Champion } @else { Dark Mage }
    </span>
  </div>

  <!-- Stats block -->
  <div class="hero-stats">
    <div class="hero-stat-row">
      <span class="hero-stat-value">{{ health() }}</span>
      <span class="hero-stat-icon">‚ù§Ô∏è</span>
      <span class="hero-stat-label">HP</span>
    </div>

    <!-- Mana row -->
    @if (maxMana() > 0) {
      <div class="hero-mana-row">
        <app-mana-bar [current]="currentMana()" [max]="maxMana()" />
      </div>
    }

    <!-- Deck row -->
    <div class="hero-deck-row">
      <span class="hero-deck-icon">üìö</span>
      <span class="hero-deck-count">{{ deckCount() }}</span>
    </div>
  </div>

  <!-- HP bar -->
  <div class="hp-bar">
    <div class="hp-fill" [style.width.%]="healthPercent()"></div>
  </div>
</div>

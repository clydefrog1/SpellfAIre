<main class="sf-page">
  <h1 class="sf-title">Register</h1>

  <form class="sf-card" [formGroup]="form" (ngSubmit)="submit()">
    <label class="sf-field">
      <span class="sf-field-label">Email</span>
      <input class="sf-input" type="email" formControlName="email" autocomplete="email" />
    </label>

	<div class="sf-field-error" *ngIf="form.controls.email.touched && form.controls.email.invalid">
		<div *ngIf="form.controls.email.errors?.['required']">Email is required.</div>
		<div *ngIf="form.controls.email.errors?.['email']">Enter a valid email address.</div>
	</div>

    <label class="sf-field">
      <span class="sf-field-label">Username</span>
      <input class="sf-input" type="text" formControlName="username" autocomplete="username" />
    </label>

  <div class="sf-field-error" *ngIf="form.controls.username.touched && form.controls.username.invalid">
    <div *ngIf="form.controls.username.errors?.['required']">Username is required.</div>
    <div *ngIf="form.controls.username.errors?.['minlength']">Username must be at least 3 characters.</div>
    <div *ngIf="form.controls.username.errors?.['maxlength']">Username must be at most 30 characters.</div>
  </div>

    <label class="sf-field">
      <span class="sf-field-label">Password</span>
      <input class="sf-input" type="password" formControlName="password" autocomplete="new-password" />
    </label>

  <div class="sf-field-error" *ngIf="form.controls.password.touched && form.controls.password.invalid">
    <div *ngIf="form.controls.password.errors?.['required']">Password is required.</div>
    <div *ngIf="form.controls.password.errors?.['minlength']">Password must be at least 8 characters.</div>
    <div *ngIf="form.controls.password.errors?.['maxlength']">Password must be at most 72 characters.</div>
  </div>

    <p class="sf-error" *ngIf="errorMessage() as msg">{{ msg }}</p>

    <button class="sf-button" type="submit" [disabled]="!canSubmit()">Create account</button>
  </form>

  <p class="sf-hint">
    Already have an account?
    <a routerLink="/login">Login</a>
  </p>
</main>
